<!-- HologramPortraitComponent - v6.0 -->
<!-- Generic animated Matrix hologram with PNG frames -->
<!-- v5.2: Added low-energy and fully-energized states for robot energization -->
<!-- v6.0: Made generic with configurable frame source + click support for modals -->

<div class="hologram-portrait"
     [class.active]="isVisible && illumination >= 0.7"
     [class.awakening]="isVisible && illumination > 0.1 && illumination < 0.7"
     [class.dormant]="!isVisible || illumination <= 0.1"
     [class.low-energy]="isLowEnergy"
     [class.fully-energized]="isFullyEnergized"
     [style.--portrait-color]="color"
     [style.--illumination]="illumination"
     [style.--hologram-width.px]="hologramWidth">

  <!-- Frame container - clickeable when showInfoButton is true -->
  <div class="frame-container"
       [class.clickable]="showInfoButton"
       (click)="onFrameClick()">
    <img [src]="currentFrame"
         [alt]="showLegend ? 'Daniel Castiblanco - Consultor de IA' : 'Hologram Animation'"
         class="portrait-frame"
         loading="eager">

    <!-- Scan line effect -->
    <div class="scan-line"></div>

    <!-- Hologram flicker overlay -->
    <div class="hologram-overlay"></div>

    <!-- Corner brackets (only for Daniel portrait, not generic holograms) -->
    @if (showLegend) {
      <div class="corner-bracket top-left"></div>
      <div class="corner-bracket top-right"></div>
      <div class="corner-bracket bottom-left"></div>
      <div class="corner-bracket bottom-right"></div>
    }
  </div>

  <!-- v6.0: Click hint OUTSIDE frame container (below the image) -->
  <!-- Also clickable to open modal -->
  @if (showInfoButton) {
    <div class="click-hint" (click)="onFrameClick()">
      <span class="hint-text">CLICK PARA VER MAS</span>
    </div>
  }

  <!-- Legend below portrait (only for Daniel - backwards compat) -->
  @if (showLegend) {
    <div class="portrait-legend">
      <h3 class="legend-name">DANIEL CASTIBLANCO</h3>
      <p class="legend-title">Consultor de Inteligencia Artificial</p>
      <p class="legend-subtitle">Transformando negocios con IA</p>
    </div>
  }
</div>
